---
title: Sugar Pine (Pinus lambertiana)
description: --Another Miracle Mile Species
author: RJ Cody Markelz
date: 2022-04-15
categories: [species distribution, modeling, GIS, maps, data, trail run, exercise, explore, PCT,  sugar pine, Pacific Crest Trail]
image: /images/Pinecone_web.jpg
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
```


Another species found! I am attempting to ID all the conifer species that occur in the [Miracle Mile](/posts/gbif-miracle-mile-species/) while out on runs so I can make a visit to the Miracle Mile and ID all of them in one go.

<p align="Left">
  <img src="/images/Pinecone_web.jpg" alt="Sugar Pine Cone" height="300"/>
</p>

These sugar pine cones are huge! I have a few in my pinecone collection that are greater than 35 cm! Sugar pines ([Pinus lambertiana](https://en.wikipedia.org/wiki/Pinus_lambertiana)) are fairly common species and I see them on trail runs often. For this post I first pulled the observations from GBIF, plotted them, and then looked where I had recently ran that would overlap with the species observation data. In this case, it was on a section of the Pacific Crest Trail (PCT) that I did an out and back run on.

```{r, message=FALSE}
library(rgbif)
library(tidyverse)
library(data.table)
library(maps)
```

Subset our search to only Northern California
```{r, message=FALSE}
mm_geometry <- paste('POLYGON((-124.4323 42.0021, -121.5045 42.0021, -121.5045 40.194, -124.4323 40.194, -124.4323 42.0021))')
```

Pull in the publicly available data and make a few quick plots.
```{r, message=FALSE}
pinus_lambertiana_NC <- occ_data(scientificName = "Pinus lambertiana", hasCoordinate = TRUE, limit = 10000,
                     geometry = mm_geometry )
head(pinus_lambertiana_NC)

pinus_lambertiana_coords <- pinus_lambertiana_NC$data[ , c("decimalLongitude", "decimalLatitude", "occurrenceStatus", "coordinateUncertaintyInMeters", "institutionCode", "references")]

maps::map(database = "state", region = "california")
points(pinus_lambertiana_coords[ , c("decimalLongitude", "decimalLatitude")], pch = ".", col = "red", cex = 3)
```

Pull in my run data.
```{r, message=FALSE}
TrailRun1  <- read.csv("~/DATA/data/TrailRun_SugarPine.csv")
```

Make a quick plot.
```{r, message=FALSE}
TrailRun_plot <- ggplot(TrailRun1, aes(x = position_long, y = position_lat)) +
                    coord_quickmap() + geom_point() +
                    xlab("Longitude") + ylab("Latitude")
TrailRun_plot
```

Subset the larger California dataset to only include a zoomed in portion where I ran based on the maximum and minimum coordinates from the run plot above.
```{r, message=FALSE}
pinus_lamb_coords_sub <- subset(pinus_lambertiana_coords, decimalLatitude > 41.1525 & decimalLatitude < 41.1650 & decimalLongitude > -122.295 & decimalLongitude < -122.265 )
```

Overlay the plots!
```{r, message=FALSE}
TrailRun_plot2 <- ggplot() +
          coord_quickmap() +
          geom_point(data = TrailRun1, aes(x = position_long, y = position_lat), color = 'black') +
          geom_point(data=pinus_lamb_coords_sub, aes(x = decimalLongitude, y = decimalLatitude), color = 'red') +
          xlab("Longitude") + ylab("Latitude")
TrailRun_plot2
```
