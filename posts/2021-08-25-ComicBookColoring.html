<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="RJ Cody Markelz">
<meta name="dcterms.date" content="2021-08-25">
<meta name="description" content="–Clip Studio Paint Coloring Workflow">

<title>Digital Comic Book Coloring Process – Cody Markelz</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dd9b2411b26c88576e91741bbe7d8cd9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Cody Markelz</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../art.html"> 
<span class="menu-text">Art</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../science.html"> 
<span class="menu-text">Science</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../montology.html"> 
<span class="menu-text">Montology</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rjcmarkelz"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/codymarkelz"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://instagram.com/codymarkelz.art"> <i class="bi bi-instagram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Digital Comic Book Coloring Process</h1>
  <div class="quarto-categories">
    <div class="quarto-category">art</div>
    <div class="quarto-category">comics</div>
    <div class="quarto-category">color</div>
    <div class="quarto-category">process</div>
    <div class="quarto-category">illustration</div>
    <div class="quarto-category">color theory</div>
  </div>
  </div>

<div>
  <div class="description">
    –Clip Studio Paint Coloring Workflow
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>RJ Cody Markelz </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 25, 2021</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="comics-coloring-class" class="level1">
<h1>Comics Coloring Class</h1>
<p>I recently finished a comic book coloring class taught by <a href="https://www.facebook.com/Sotocolor/">Chris Sotomayer</a> with special guest instructor/critic <a href="https://imagecomics.com/creators/marissa-louise">Marissa Louise</a> through <a href="https://www.comicsexperience.com/">Comics Experience</a>. Soto is not only a top working talent, but is also a great no non-sense teacher. The class came with a large selection of donated line art from all the major publishers to color “test pages” or entire books.</p>
<p>This post is really only touching some of the major points discussed in the course. I learned through improving my page over the course, but learned a great deal more listening to the critiques of other student work. Many of the students were fairly advanced and chose pages with multiple light sources, colored lights from laser blasts, moonlight scenes, and shots from hell (literally). This class was amazing to say the least.</p>
<p>I was a new user of Clip Studio Paint (CSP) when I started this class. Getting comfortable with CSP added to the learning curve. I made many simple errors due to my ignorance of the details of this program that compounded, but I figured it all out for the final image through multiple rounds of critiques. I am happy with the final page. Enjoy the process!</p>
<hr>
</section>
<section id="image-choice" class="level1">
<h1>Image Choice</h1>
<section id="line-art-by-robert-atkins-and-clayton-brown---idw-g.i.-joe-105" class="level3">
<h3 class="anchored" data-anchor-id="line-art-by-robert-atkins-and-clayton-brown---idw-g.i.-joe-105">Line art by Robert Atkins and Clayton Brown - IDW G.I. JOE 105</h3>
<p>I chose this image to color because it most closely fit with the type of outdoor adventure art that I wanted to continue making. I liked that the page was center line composition of two characters running through a desert landscape towards a military base that included two long shots and two medium shots. This page represents simple visual storytelling and I wanted to see how color could enhance a simple story.</p>
</section>
</section>
<section id="set-up-clip-studio-paint" class="level1">
<h1>Set-up Clip Studio Paint</h1>
<p>When working digitally I had three layers. The inks were on their own layer over the top of a color layer that was on top of a white background. I set the ink layer opacity to about 60% to be able to follow/trace the lines when doing the flats. Also, setting all the tools that you will be working with to <strong>no</strong> anti-aliasing. This setting will ensure no blending of pixels, just stark pixel color transitions for a finished flat that is set up for the next steps. I made a mistake with one of tools as you will see below. <img src="../images/anti-aliasing-lasso.png" class="img-fluid" alt="image"> <img src="../images/Anti-aliasing-eraser.png" class="img-fluid" alt="image"></p>
<hr>
</section>
<section id="panels" class="level1">
<h1>Panels</h1>
<p>To start digital coloring you first define the panels with a solid color. You will gradually cut this solid panel shape into the smaller color shapes in the flatting process. By having the panel background a different color from the background of the page (white in this case), you can do shape or color selection in the flatting stage more easily and track your progress as the panel color gradually gets smaller with each new defined shape. <img src="../images/CodyMarkelz-GIJOE00105-panels.jpg" class="img-fluid" alt="image"></p>
<hr>
</section>
<section id="flats" class="level1">
<h1>Flats</h1>
<p>The point of flatting is to get all the major objects that will be different colors in the final image separated from one another and the background. Flatting takes a long time and double that for me because I needed to re-flat (see below). Flatting starts with the large shapes in the foreground and then moves to background (or visa-versa) depending on the panel. After the page is flatted, the process becomes easy to select by color and make large changes all at once. <img src="../images/CodyMarkelz-GIJOE00105-flats-1.jpg" class="img-fluid" alt="image"></p>
<p>There should just be simple colors and stark color transitions when you zoom in on a properly flatted page. In the following image, there are blended pixels on the edges between colors. This is a huge problem if you want to select entire color sections for the down stream processes because these blended pixels will not get selected. I could not figure out what was going wrong with my page, until I did a test area to reproduce my process and found it was the fill bucket tool. <img src="../images/flatting-anti-aliasing-example.jpg" class="img-fluid" alt="image"></p>
<p>Opps! I also forgot uncheck the anti-aliasing on the fill bucket tool! <img src="../images/Anti-aliasing-fill-bucket.png" class="img-fluid" alt="image"></p>
<p>I ended up re-flatting the entire page as that was easier than fixing. Lesson learned. Much better. <img src="../images/flatting-turn-off-anti-aliasing.jpg" class="img-fluid" alt="image"></p>
<section id="finished-flat" class="level3">
<h3 class="anchored" data-anchor-id="finished-flat">Finished flat</h3>
<p>I was unsure at this point if I wanted the two characters to be in the same base camouflage color scheme so I flatted them as separate colors. This image also shows that as long as the colors for each of the flatted shapes are different it does not matter too much what they are. I am sure if you are drawing similar characters in similar environments over multiple pages, you could save yourself some time by flatting in the colors trying to match more closely what the final panel will look like. <img src="../images/CodyMarkelz-GIJOE00105-flats-2.jpg" class="img-fluid" alt="image"></p>
<hr>
</section>
</section>
<section id="color-studies" class="level1">
<h1>Color Studies</h1>
<p>Once the flatting is done properly it is easier to do color and value studies by selecting the shapes and filling with the paint bucket. The paint bucket was especially helpful when doing the camouflage uniforms, the backpacks of the soldiers, the large shapes of the sky, and the rock background. By focusing only on the large shapes you could do even more quick color studies.</p>
<p>I wanted the base colors to reflect commonly seen camouflage patterns and somewhat natural landscape colors even if these two things were not aligned for the purpose of camouflage (matching the environment perfectly). I tried a split-complementary three color scheme and a tetrad (double compliment) four color scheme. I also experimented with different values and atmospheric effect in the sky. I will have a follow-up post on the color theory behind these choices and other options.</p>
<section id="split-complementary-color-scheme" class="level3">
<h3 class="anchored" data-anchor-id="split-complementary-color-scheme">Split Complementary Color Scheme</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/CodyMarkelz-GIJOE00105-inksflats-split-compliment-study.jpg" class="img-fluid figure-img"></p>
<figcaption>image</figcaption>
</figure>
</div>
</section>
<section id="tetrad-color-scheme" class="level3">
<h3 class="anchored" data-anchor-id="tetrad-color-scheme">Tetrad Color Scheme</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/CodyMarkelz-GIJOE00105-tetrad-study.jpg" class="img-fluid figure-img"></p>
<figcaption>image</figcaption>
</figure>
</div>
<hr>
</section>
</section>
<section id="value-study" class="level1">
<h1>Value Study</h1>
<p>Next was a pure value study with a range of values from 20-80% leaving the white (0%) for the page backgrounds and the black (100%) for the inks. At this stage there is a lot of zooming way out from the image or squinting to blur all the detail and make sure that the characters and environment shapes “read” as separate just based on their value. <img src="../images/CodyMarkelz-GIJOE00105-value-study.jpg" class="img-fluid" alt="image"></p>
<hr>
</section>
<section id="combination-of-value-and-color-first-attempt" class="level1">
<h1>Combination of Value and Color First Attempt</h1>
<p>When completing the value study, I accidentally made the white background not white! I could not see this on my digital screen. It was white as far as I was concerned because locally it was the whitest value. All colors are relative!</p>
<p>During the critique for this week the background pinks were a little too pink making this have a “Valentines Day Card” vibe. G.I. JOE Valentines day cards were a thing when I was a kid, but this was not my color intention, so I needed to fix it. It was also pointed out that “STAT BG” in the second panel meant static background. This was a note to the inker to copy the background from panel one, but in this version it did not get completed. <img src="../images/CodyMarkelz-GIJOE00105-tetrad-v4.jpg" class="img-fluid" alt="image"></p>
<hr>
</section>
<section id="refinement" class="level1">
<h1>Refinement</h1>
<p>I muted the pink hues and warmer colors in general and figured out how to cut and duplicate the background from the inks. I also adjusted the character colors/values to increase the contrast with the background (using a lot of the squinting technique). <img src="../images/CodyMarkelz-GIJOE00105-tetrad-v5.jpg" class="img-fluid" alt="image"></p>
<p>Next I made some adjustments to the black line art in the background to further increase the contrast. The background line art was shifted from black to a very dark version of the base color of the object. This reduces the local contrast of the line art and the object (e.g.&nbsp;mesas). This line art adjustment also helps the background fade more because the details are less visible simulating atmospheric interference when looking at a real landscape. However, after this line art adjustment it became less clear what the viewer should be focusing on in the first two panels. The combination of the background dropping away and the middle ground and foreground being approximately the same values made it confusing for the eye. I think this is a fascinating effect. Balanced images can be thrown off by small tweeks with unintended consequences. <img src="../images/CodyMarkelz-GIJOE00105-tetrad-v6.jpg" class="img-fluid" alt="image"></p>
<hr>
</section>
<section id="final-polish" class="level1">
<h1>Final Polish</h1>
<p>I darkened the foreground rocks and it instantly gives the first two panels a frame around the characters and a clear foreground, middle ground and background. This effect is just the reverse of the atmospheric interference I was trying to achieve by lightening the the inks in the background. At the same time the darker pink/purple in foreground further reduces the “Valentines Day Card Vibe”. Next I lightened the areas around the boots with some “dust” to add to the effect. Finally, I cleaned up the dark edge of the page on the right that was left over from scanning the inks and removed the artists names. Finished page.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/CodyMarkelz-GIJOE00105-tetrad-final-v8.jpg" class="img-fluid figure-img"></p>
<figcaption>image</figcaption>
</figure>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025 Cody Markelz</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>