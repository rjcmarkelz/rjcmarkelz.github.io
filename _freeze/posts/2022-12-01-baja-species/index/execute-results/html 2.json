{
  "hash": "0b0eb65fae64e12168ff97c9605bee16",
  "result": {
    "markdown": "---\ntitle: Baja Species - Part 1\nauthor: RJ Cody Markelz\ndate: 2022-12-01\ncategories: [GIS, data, trail run, hike, explore, photography, nature journal, zine, adventure, GBIF, baja, mexico]\nimage: /images/crested-caracara.jpeg\n---\n\n\n\n\n<p align=\"Left\">\n  <img src=\"/images/crested-caracara.jpeg\" alt=\"Crested Cara Cara Image\" height=\"300\"/>\n</p>\n\n\n# Introduction\nI saw these beautiful birds while out train running in Baja Sur, Mexico. I had never even heard of them until now, but [Crested Caracaras](https://en.wikipedia.org/wiki/Crested_caracara) are really interesting birds! They are technically falcons, but act more like buzzards. This might explain why they were looking over me while I exercised in the desert. I saw the distribution map on the wikipedia link, but I wanted to see how many entries in GBIF there were in the general region I was visiting.\n\n### Load the libraries\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rgbif)\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n```\n:::\n\n\nSubset our search to only Southern Baja Sur. I used [this website](https://boundingbox.klokantech.com/) to make a quick bounding box which I convert into a polygon as an input to the GBIF search function. I search the general area and then clean up the output for easier plotting.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbaja_geometry <- paste('POLYGON((-112.632285206 22.4136232805, -109.1001807138 22.4136232805, -109.1001807138 25.4259663625, -112.632285206 25.4259663625, -112.632285206 22.4136232805))')\n\ncaracara <- occ_data(scientificName = \"Caracara plancus\", hasCoordinate = TRUE, limit = 10000,\n                     geometry = baja_geometry )\n\ncaracara_coords <- caracara$data[ , c(\"decimalLongitude\", \"decimalLatitude\",\n \"individualCount\", \"occurrenceStatus\", \"coordinateUncertaintyInMeters\",\n  \"institutionCode\", \"references\")]\n```\n:::\n\n\nThe standard maps packages I use did not have a good map of the Mexican states for quick plotting and that also integrate with the sf package well. rnaturalearth and rnaturalearthdata are good resources for plotting specific regions in various countries using the maps stored as sf objects. I subset the larger dataset to just zoom in on Mexico and plot the appoximate location where my observation was.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncaracara_obs <- data.frame(decimalLongitude = c(-110.18917658541324), decimalLatitude = c(23.369598786877447))\n\nworld_maps <- ne_countries(scale = \"medium\", returnclass = \"sf\")\nmexico <- subset(world_maps, name == \"Mexico\")\n\nggplot(data = mexico) +\n                geom_sf() +\n                geom_point(data = caracara_obs, aes(x = decimalLongitude, y = decimalLatitude), color = 'red')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nZoom into the Baja penninsula and plot all the points. There have been many observations of the Crested Caracara all over the general region I visited.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntheme_set(theme_bw())\nggplot(data = mexico) +\n        geom_sf() +\n        geom_point(data = caracara_coords, aes(x = decimalLongitude, y = decimalLatitude), color = 'blue') +\n        geom_point(data = caracara_obs, aes(x = decimalLongitude, y = decimalLatitude), color = 'red')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data = mexico) +\n        geom_sf() +\n        geom_point(data = caracara_coords, aes(x = decimalLongitude, y = decimalLatitude), color = 'blue') +\n        geom_point(data = caracara_obs, aes(x = decimalLongitude, y = decimalLatitude), color = 'red') +\n        coord_sf(xlim = c(-115, -109), ylim = c(22.5, 27), expand = TRUE) +\n        xlab(\"Longitude\") + ylab(\"Latitude\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}